//@execute =579
type A00 #unboxed {
	case X {
		def val() -> i32 { return 123; }
		def f() -> i32 { return 345; }
		def g() -> i32 { return 789; }
	}
	case Y(a: i32) {
		def val() -> i32 { return a; }
		def f() -> i32 { return -a; }
	}

	def val() -> i32;
	def f() -> i32;
}

def main() -> i32 {
	var a00_x: A00 = A00.X;
	var a00_y: A00 = A00.Y(456);

	if (a00_x.val() != 123) return -1;
	if (a00_y.val() != 456) return -2;
	if (A00.X.!(a00_x).g() != 789) return -3;
	if (a00_x.f() != 345) return -4;
	if (a00_y.f() != -456) return -5;

	return a00_y.val() + a00_x.val();
}