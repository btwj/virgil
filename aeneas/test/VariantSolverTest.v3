// Copyright 2024 Virgil authors. All rights reserved.
// See LICENSE for details of Apache 2.0 license.

def T = UnitTests.registerT("packing:", _, VariantSolverTester.new, _);
def X = [
    T("simple", test_simple)
];
def VERBOSE = false;

class VariantSolverTester(t: Tester) {
    var solver: VariantSolver;
	def useSolver(s: VariantSolver) { solver = s; }

	private def trySolve(problem: VariantProblem) -> VariantSolution {
		var solution = solver.solve(problem);
		if (VERBOSE) Terminal.put2("%q => %q\n", problem.render, printSolution(_, solution));
		return solution;
	}
	private def printSolution(sb: StringBuilder, solution: VariantSolution) -> StringBuilder {
		if (solution == null) return sb.puts("no solution found");
		else return solution.render(sb);
	}
	private def verifyValidity(problem: PackingProblem, solution: PackingSolution) {
	}
}

def test_simple(t: VariantSolverTester) {

}
